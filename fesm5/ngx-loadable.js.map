{"version":3,"file":"ngx-loadable.js","sources":["ng://ngx-loadable/lib/loadable.service.ts","ng://ngx-loadable/lib/loadable.component.ts","ng://ngx-loadable/lib/loadable.module.ts","ng://ngx-loadable/public_api.ts"],"sourcesContent":["// tslint:disable-next-line:max-line-length\nimport {\n  Compiler,\n  ComponentFactoryResolver,\n  Injectable,\n  InjectionToken,\n  NgModuleFactory,\n  NgModuleFactoryLoader,\n  NgModuleRef,\n  TemplateRef,\n  Type,\n  ViewContainerRef\n} from '@angular/core';\nimport { ILoadableRootOptions, ModuleConfig } from './loadable.config';\n\nexport const LOADABLE_CONFIG = new InjectionToken<ModuleConfig[]>(\n  'LOADABLE_CONFIG'\n);\nexport const LOADABLE_ROOT_OPTIONS = new InjectionToken<ILoadableRootOptions>(\n  'LOADABLE_ROOT_OPTIONS'\n);\n\nconst LOG_PREFIX = 'ngx-loadable';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadableService {\n  public modules: ModuleConfig[] = [];\n  constructor(\n    private loader: NgModuleFactoryLoader,\n    private cfr: ComponentFactoryResolver,\n    private compiler: Compiler\n  ) {}\n\n  addConfig(config: ModuleConfig[]) {\n    config.forEach(newModule => {\n      const existingModule = this.getModule(newModule.name);\n      if (existingModule.loadChildren) {\n        console.warn(\n          // tslint:disable-next-line:max-line-length\n          `${LOG_PREFIX} - ModuleConfig with name '${newModule.name}' was previously added, it will not be added multiple times, continue...`\n        );\n      } else {\n        this.modules.push(newModule);\n        if (newModule.preload) {\n          this.preload(newModule.name);\n        }\n      }\n    });\n  }\n\n  getModule(module: string): ModuleConfig {\n    return this.modules.find(m => m.name === module) || ({} as ModuleConfig);\n  }\n\n  getModulePath(module: string) {\n    return this.getModule(module).loadChildren;\n  }\n\n  preload(module: string): Promise<NgModuleFactory<any>> {\n    const loadChildren = this.getModulePath(module);\n    if (typeof loadChildren === 'string') {\n      return this.loader.load(loadChildren);\n    } else {\n      return loadChildren().then((t: any) => {\n        if (t instanceof NgModuleFactory) {\n          return t;\n        } else {\n          return this.compiler.compileModuleAsync(t);\n        }\n      });\n    }\n  }\n\n  preloadAll(modules?: string[]): Promise<NgModuleFactory<any>[]> {\n    if (!modules) {\n      modules = this.modules.map(m => m.name);\n    }\n    return Promise.all(\n      modules.map(module => {\n        return this.preload(module);\n      })\n    );\n  }\n\n  _renderVCR(\n    mr: NgModuleRef<any> | Type<any> | TemplateRef<any>,\n    vcr: ViewContainerRef,\n    phr?: ViewContainerRef\n  ) {\n    let factory: any;\n\n    if (!mr) {\n      return;\n    }\n\n    if (mr instanceof TemplateRef) {\n      vcr.remove();\n      return vcr.createEmbeddedView(mr);\n    }\n\n    if ((mr as NgModuleRef<any>).componentFactoryResolver) {\n      const rootComponent = (mr as any)._bootstrapComponents[0];\n      factory = (mr as NgModuleRef<\n        any\n      >).componentFactoryResolver.resolveComponentFactory(rootComponent);\n    } else {\n      factory = this.cfr.resolveComponentFactory(mr as Type<any>);\n    }\n\n    vcr.remove();\n\n    if (phr) {\n      const phrElement = phr.get(0) as any;\n\n      if (phrElement && phrElement.rootNodes && phrElement.rootNodes[0]) {\n        phrElement.rootNodes[0].classList.add('is-disappearing');\n      }\n\n      setTimeout(() => {\n        phr.remove();\n\n        const vcrElement = phr.get(0) as any;\n\n        if (vcrElement && vcrElement.rootNodes && vcrElement.rootNodes[0]) {\n          vcrElement.rootNodes[0].classList.add('is-visible');\n        }\n      }, 1000);\n    }\n\n    return vcr.createComponent(factory);\n  }\n}\n","import {\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Injector,\n  Input,\n  NgModuleRef,\n  OnChanges,\n  Optional,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport { ILoadableRootOptions } from './loadable.config';\nimport { LoadableService, LOADABLE_ROOT_OPTIONS } from './loadable.service';\n\n@Component({\n  selector: 'ngx-loadable',\n  template: `\n    <ng-template #content></ng-template>\n    <ng-template #placeholder></ng-template>\n  `,\n  styles: []\n})\nexport class LoadableComponent implements OnChanges {\n  //\n  @Input() module: string;\n\n  //\n  @Input() show = false;\n\n  //\n  @Input() timeout: number | undefined;\n\n  //\n  @Input() isElement: boolean;\n\n  //\n  @Output() init = new EventEmitter();\n\n  //\n  @ViewChild('content', { read: ViewContainerRef, static: true })\n  content: ViewContainerRef;\n\n  //\n  @ViewChild('placeholder', { read: ViewContainerRef, static: true })\n  placeholder: ViewContainerRef;\n\n  //\n  @ContentChild('loading', { read: TemplateRef, static: false })\n  loadingTemplate: TemplateRef<any>;\n\n  //\n  @ContentChild('error', { read: TemplateRef, static: false })\n  errorTemplate: TemplateRef<any>;\n\n  //\n  @ContentChild('timedOut', { read: TemplateRef, static: false })\n  timeoutTemplate: TemplateRef<any>;\n\n  //\n  private moduleRef: NgModuleRef<any>;\n\n  //\n  loading = false;\n\n  //\n  loaded = false;\n\n  //\n  error = false;\n\n  //\n  timedOut: boolean;\n\n  //\n  timeoutRef: any;\n\n  //\n  constructor(\n    @Optional()\n    @Inject(LOADABLE_ROOT_OPTIONS)\n    private options: ILoadableRootOptions,\n    private loadable: LoadableService,\n    private elementRef: ElementRef,\n    private injector: Injector\n  ) {}\n\n  //\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.show && changes.show.currentValue) {\n      if (this.loaded) {\n        this._render();\n        return;\n      }\n\n      this.loadFn();\n    }\n  }\n\n  //\n  public async preload(): Promise<any> {\n    if (!this.module) {\n      return;\n    }\n\n    try {\n      const moduleFactory = await this.loadable.preload(this.module);\n\n      this.loaded = true;\n      this.timedOut = false;\n      this.moduleRef = moduleFactory.create(this.injector);\n\n      return moduleFactory;\n    } catch (error) {\n      this.error = error;\n\n      this.loadable._renderVCR(\n        this.errorTemplate ||\n          this.loadable.getModule(this.module).errorComponent ||\n          this.options.errorComponent,\n        this.content\n      );\n\n      return error;\n    }\n  }\n\n  //\n  private _render(): void {\n    const module = this.loadable.getModule(this.module);\n\n    if (this.isElement || module.isElement || this.options.isElement) {\n      const componentInstance = document.createElement(module.name);\n\n      this.init.next({\n        instance: componentInstance\n      });\n\n      this.elementRef.nativeElement.appendChild(componentInstance);\n      this.loading = false;\n      return;\n    }\n\n    const componentRef = this.loadable._renderVCR(\n      this.moduleRef,\n      this.content,\n      this.placeholder\n    );\n    this.init.next(componentRef);\n    this.loading = false;\n  }\n\n  //\n  reload(): void {\n    this.timedOut = false;\n    this.error = undefined;\n    this.loadFn();\n  }\n\n  //\n  _renderTimeoutTemplate(): void {\n    this.timedOut = true;\n\n    this.loadable._renderVCR(\n      this.timeoutTemplate ||\n        this.loadable.getModule(this.module).timeoutTemplate ||\n        this.options.timeoutTemplate,\n      this.content\n    );\n  }\n\n  //\n  loadFn(): void {\n    if (typeof this.timeout === 'string') {\n      this.timeout = parseInt(this.timeout, 10);\n    }\n\n    this.loading = true;\n\n    this.loadable._renderVCR(\n      this.loadingTemplate ||\n        this.loadable.getModule(this.module).loadingComponent ||\n        this.options.loadingComponent,\n      this.placeholder\n    );\n\n    if (this.timeout === 0) {\n      this._renderTimeoutTemplate();\n    } else if (this.timeout > 0) {\n      this.timeoutRef = setTimeout(() => {\n        this._renderTimeoutTemplate();\n      }, this.timeout);\n    }\n\n    this.preload().then(mf => {\n      if (this.timeoutRef) {\n        clearTimeout(this.timeoutRef);\n      }\n\n      if (mf instanceof Error) {\n        return;\n      }\n\n      this.loading = false;\n      this._render();\n    });\n  }\n}\n","import { NgModule, Inject, Optional, NgModuleFactoryLoader, SystemJsNgModuleLoader, ANALYZE_FOR_ENTRY_COMPONENTS } from '@angular/core';\nimport { ModuleWithProviders } from '@angular/compiler/src/core';\nimport { CommonModule } from '@angular/common';\nimport { provideRoutes } from '@angular/router';\n\nimport { LoadableComponent } from './loadable.component';\nimport { LOADABLE_CONFIG, LoadableService, LOADABLE_ROOT_OPTIONS } from './loadable.service';\nimport { ILoadableConfig, ModuleConfig, ILoadableRootConfig } from './loadable.config';\n\n@NgModule({\n  declarations: [LoadableComponent],\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    { provide: NgModuleFactoryLoader, useClass: SystemJsNgModuleLoader }\n  ],\n  exports: [LoadableComponent]\n})\nexport class LoadableModule {\n  static forRoot(config: ILoadableRootConfig = {}): ModuleWithProviders  {\n    return {\n      ngModule: LoadableModule,\n      providers: [\n        { provide: LOADABLE_CONFIG, useValue: {}, multi: true, deps: [LoadableService] },\n        { provide: LOADABLE_CONFIG, useValue: config.moduleConfigs, multi: true },\n        { provide: LOADABLE_ROOT_OPTIONS, useValue: config.rootOptions || {} },\n        { provide: ANALYZE_FOR_ENTRY_COMPONENTS, useValue: config, multi: true },\n        provideRoutes(config.moduleConfigs),\n      ]\n    };\n  }\n\n  static forFeature(config: ILoadableConfig = {}): ModuleWithProviders {\n    return {\n      ngModule: LoadableModule,\n      providers: [\n        { provide: LOADABLE_CONFIG, useValue: {}, multi: true, deps: [LoadableService] },\n        { provide: LOADABLE_CONFIG, useValue: config.moduleConfigs, multi: true },\n        { provide: ANALYZE_FOR_ENTRY_COMPONENTS, useValue: config, multi: true },\n        provideRoutes(config.moduleConfigs),\n      ]\n    };\n  }\n\n  constructor(\n    ls: LoadableService,\n    @Optional() @Inject(LOADABLE_CONFIG) configs: ModuleConfig[][] = [],\n  ) {\n    if (!configs) {\n      return;\n    }\n\n    ls.addConfig(configs[configs.length - 1]);\n  }\n}\n","/*\n * Public API Surface of loadable\n */\n\nexport * from './lib/loadable.service';\nexport * from './lib/loadable.component';\nexport * from './lib/loadable.module';\nexport function matcher() {\n  return null;\n}\n"],"names":[],"mappings":"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"}